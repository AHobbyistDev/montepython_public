####################
# Monte-Python, a Monte Carlo Markov Chain code (with Class!)
# Version 0.9
# written by Benjamin Audren
####################

## The MontePython part
-----------------------
  Move the .tar.bz2 file to your convenience, untar its content

  $ bunzip2 montepython-vx.y.tar.bz2
  $ tar -xvf montepython-vx.y.tar
  
  This will create a directory named MontePython into your current directory.
  If you add the following line to your ~/.bashrc file:
  
  $ export PATH=$PATH:/path/to/MontePython/

  then a simple call MontePython.py anywhere will launch the program.
  
  To make this work, you need to install all the necessary libraries.

## The Class part
-----------------
  Go to your class directory, and add the following lines to your makefile:

  CFLAG   = -O4 -Wall -fopenmp -fPIC 
  LDFLAG  = -O4 -Wall -fopenmp -fPIC

  while commenting your usual lines for these flags.
  Now type make clean, then make (and not make class !).
  This builds the libclass.a, needed for the next step.
  From there, 

  cd python/

  python setup.py build
  python setup.py install --user

  If this step fails, check that you have cython installed, numpy (a numerical
package for python), python (well... did I say this code was in python ?) with
a version > 2.6.  If this step fails again, kindly ask your sys.admin, (s)he is
there for this, afterall.

## The Clik part
----------------

  Recover the Plik package, that will auto-install itself on any machine.
  Remember before executing any MontePython.py to source the clik profile

  $ source YourClikPath/bin/clik_profile.sh

  or add this line to your ~/.bashrc

## Finalizing the installation
------------------------------

  Go to your MontePython directory, and edit the MontePython.py file.
  You will have potentially two things to change.

  1- The very first line is:
    #!/usr/bin/python
  This should be change to wherever is your prefered python distribution
installed. For standard distribution, this should already be working.

  2- You then have to edit the line labeled:
    root = '/my/general/path/to/my/codes/'

  and adapt the following lines:

    path['class']=root+'class'
    path['clik'] =root+'clik/examples'
  to the values relevant for your system.


## Enjoying the difference
--------------------------

  Now the code is installed. Go anywhere, and just call

  $ ./MontePython.py --help

  To see a list of all commands. There are two essential ones, without which
the program will not start. At minimum, you should precise an output folder
('-o') and a parameter file ('-p'). An example of parameter file is found in
the main directory of MontePython (planck.param, for instance).
  A typical call would then be:

  $ ./MontePython.py -o planck -p planck.param

  If non existant, the planck/ folder will be created, and a run with the
number of steps described in planck.param will be started. To run a chain with
less steps, one can type:

  $ ./MontePython.py -o planck -p planck.param -N 100

  If you want to analyse the details of a particular chain, just run 

  $ ./MontePython.py -info planck/2011-11-23_10000__1

  or, the more time consuming version, analyse all chains in folder

  $ ./MontePython.py -info planck/*


## The details
--------------

  Please refer to the pdf documentation for further details.
